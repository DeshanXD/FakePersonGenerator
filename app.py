import faster_than_requests as req
import tkinter as tk
from glom import glom
import json


def request_data():
    xdarr = ['First Name', 'Last Name', 'Gender', 'Address', 'City', 'State', 'Country', 'Latitude', 'Longitude','Postal Code', 'Time Zone', 'Email', 'Birthday', 'Age', 'Telephone', 'Cell Phone']
    returnData = req.get2json_pretty("https://randomuser.me/api/")
    returnData = json.loads(returnData)
    formatarr = list(zip(xdarr, formatplus(returnData)))
    writedata(formatarr)


def writedata(array):
    with open('personinfo.txt', 'w+') as file:
        for key, value in array:
            file.write(f'{key} : {value}\n')


def formatplus(returnData):
    arr = []
    arr.append(glom(returnData, 'results.0.name.first'))
    arr.append(glom(returnData, 'results.0.name.last'))
    arr.append(glom(returnData, 'results.0.gender'))
    arr.append(str(glom(returnData, 'results.0.location.street.number')) + " " + glom(returnData, 'results.0.location.street.name'))
    arr.append(glom(returnData, 'results.0.location.city'))
    arr.append(glom(returnData, 'results.0.location.state'))
    arr.append(glom(returnData, 'results.0.location.country'))
    arr.append(glom(returnData, 'results.0.location.coordinates.latitude'))
    arr.append(glom(returnData, 'results.0.location.coordinates.longitude'))
    arr.append(str(glom(returnData, 'results.0.location.postcode')))
    arr.append(glom(returnData, 'results.0.location.timezone.offset') + " " + glom(returnData, 'results.0.location.timezone.description'))
    arr.append(glom(returnData, 'results.0.email'))
    arr.append(glom(returnData, 'results.0.dob.date'))
    arr.append(str(glom(returnData, 'results.0.dob.age')))
    arr.append(str(glom(returnData, 'results.0.phone')))
    arr.append(str(glom(returnData, 'results.0.cell')))
    return arr


# request_data()


# f = open(personName, "w+")
# f.write("THIS FILE IS GENERATED BY FAKE PERSON GENERATOR\n\n")
# f.write("First Name : " + firstName + "\n")
# f.write("Last Name : " + lastName + "\n")
# f.write("Gender : " + gender + "\n\n")
# f.write("Address : " + address + "\n")
# f.write("City : " + city + "\n")
# f.write("State : " + state + "\n")
# f.write("Country : " + country + "\n")
# f.write("Latitude : " + latitude + "\n")
# f.write("Longitude : " + longitude + "\n")
# f.write("Postal Code : " + postalcode + "\n")
# f.write("Timezone : " + timezone + "\n\n")
# f.write("Email : " + email + "\n")
# f.write("Birthday : " + dob + "\n")
# f.write("Age : " + age + "\n\n")
# f.write("Telephone : " + phone + "\n")
# f.write("Cell Phone : " + cell + "\n")

# print("Processing Done : " + personName + ".txt")


# root = tk.Tk()
# root.title("Fake Person Generator")     

# canvas = tk.Canvas(root, height=300, width=300)
# canvas.pack()


# background_image = tk.PhotoImage(file='background.png')
# background_label = tk.Label(root, image=background_image)
# background_label.place(relwidth=1, relheight=1)


# button = tk.Button(root, text="Generate Random", font=40)
# button.place(relx=0.2, rely=0.3, relheight=0.10, relwidth=0.6)


# root.mainloop()
